# Тренинг по архитектуре (через TDD)

Сначала несколько слов об архитектуре.
Хорошая архитектура (в моём понимании) обладает следующими свойствами:

	1. Простой (на сколько это возможно) и легко читаемый код (лаконичный и понятный).
	2. Грамотное распределение обязанностей (сфокусированность функций, классов / методов).
	3. Тестируемость. Это, когда большинство логики можно протестировать unit-тестами, и тесты будут достаточно простыми.
	
	4. Уровень сложности решения сответствует сложности задачи.
	5. Учитывается природа языка (например, главная фишка Python в том, что у него "Утиная типизация").


## Задача: "Автоматизация работы больницы (hospital)"

Особо обратить внимание на "читабельность" кода и на удобную декомпозицию (не париться, если функций, классов и методов получится много).

На 1-ой итерации не надо писать Unit-тестов.

(!) Важно. Большая часть требований к программе описана приёмочными тестами.

На начало сеанса в больнице содержится 200 пациентов (patients), все в статусе "Болен".
О каждом пациенте есть информация только о его статусе.
Перечень возможных статусов: 
	{0: "Тяжело болен", 1: "Болен", 2: "Слегка болен", 3: "Готов к выписке"}
	
Для упрощения реализации, предлагается базу пациентов реализовать в виде списка, содержащего коды статусов.
Например: [1, 1, 0, 2, 3]. 

Пациенты идентифицируются по их ID. 
ID пацента - это его порядковый номер в базе пациентов. 
У самого первого в списке пациента ID=1, у самого последнего в списке пациента ID=200

Необходимо обрабатывать ситуацию, когда пользователь, указывая ID пациента, ввёл не целое или не положительное число
Необходимо обрабатывать ситуацию, когда пользователь указал ID несуществующего пациента.

Взаимодействие с пользователем происходит через консоль (стандартную систему ввода/вывода).

Пользователю доступны следующие команды (вводить их он может как на русском, так и на английском):

### Команда "узнать статус пациента" / "get status"

### Команда "повысить статус пациента" / "status up"

	Код статуса увеличивается на единичку.
	Если пользователь пытается повысить максимальный статус, то у него запрашивается подтверждение, не желает ли он выписать пациента.
		- Если пользователь отвечает "да", то пациента выписываем (проставляем в списке None).
    		- Если пользователь отвечает "нет", то пациент остаётся в том же статусе, что и был.

### Команда "понизить статус пациента" / "status down"

	Код статуса уменьшается на единичку.
	Если пользователь пытается понизить минимальный статус, то ему сообщается об ошибке, и пациент остаётся в том же статусе, что и был.

### Команда "выписать пациента" / "discharge"

	Просто пациенту в списке проставляем None.

### Команда "рассчитать статистику" / "calculate statistics"

### Команда "стоп" / "stop"


=== Приёмочный тест № 1 (базовый сценарий) ===

# In:
	Введите команду: узнать статус пациента
	Введите ID пациента: 200
# Out:
	Статус пациента: "Болен"

# In:
	Введите команду: status up
	Введите ID пациента: 2
# Out:
	Новый статус пациента: "Слегка болен"

# In:
	Введите команду: status down
	Введите ID пациента: 3
# Out:
	Новый статус пациента: "Тяжело болен"

# In:
	Введите команду: discharge
	Введите ID пациента: 4
# Out:
	Пациент выписан из больницы

# In:
	Введите команду: рассчитать статистику
# Out:
	В больнице на данный момент находится 199 чел., из них:
		- в статусе "Тяжело болен": 1 чел.
		- в статусе "Болен": 197 чел.
		- в статусе "Слегка болен": 1 чел.

# In:
	Введите команду: стоп
# Out:
	Сеанс завершён.


=== Приёмочный тест № 2 (неизвестная команда) ===

# In:
	Введите команду: выписать всех пациентов
# Out:
	Неизвестная команда! Попробуйте ещё раз
 
# In:
	Введите команду: стоп
# Out:
	Сеанс завершён.

	
=== Приёмочный тест № 3 (случаи ввода пользователем некорректных данных) ===

# In:
	Введите команду: узнать статус пациента
	Введите ID пациента: два
# Out:
	Ошибка. ID пациента должно быть числом (целым, положительным)

# In:
	Введите команду: повысить статус пациента
	Введите ID пациента: -2
# Out:
	Ошибка. ID пациента должно быть числом (целым, положительным)

# In:
	Введите команду: понизить статус пациента
	Введите ID пациента: 201
# Out:
	Ошибка. В больнице нет пациента с таким ID

# In:
	Введите команду: стоп
# Out:
	Сеанс завершён.


=== Приёмочный тест № 4 (попытка повысить самый высокий статус, которая приводит к выписке пациента) ===

# In:
	Введите команду: повысить статус пациента
	Введите ID пациента: 1
# Out:
	Новый статус пациента: "Слегка болен"

# In:
	Введите команду: повысить статус пациента
	Введите ID пациента: 1
# Out:
	Новый статус пациента: "Готов к выписке"

# In:
	Введите команду: повысить статус пациента
	Введите ID пациента: 1
	Желаете этого клиента выписать? (да/нет): да
# Out:
	Пациент выписан из больницы

# In:
	Введите команду: рассчитать статистику
# Out:
	В больнице на данный момент находится 199 чел., из них:
		- в статусе "Болен": 199 чел.
 
# In:
	Введите команду: стоп
# Out:
	Сеанс завершён.


=== Приёмочный тест № 5 (попытка повысить самый высокий статус, которая ни к чему не приводит) ===

# In:
	Введите команду: повысить статус пациента
	Введите ID пациента: 1
# Out:
	Новый статус пациента: "Слегка болен"

# In:
	Введите команду: повысить статус пациента
	Введите ID пациента: 1
# Out:
	Новый статус пациента: "Готов к выписке"

# In:
	Введите команду: повысить статус пациента
	Введите ID пациента: 1
	Желаете этого клиента выписать? (да/нет): нет
# Out:
	Пациент остался в статусе "Готов к выписке"

# In:
	Введите команду: рассчитать статистику
# Out:
	В больнице на данный момент находится 200 чел., из них:
		- в статусе "Болен": 199 чел.
		- в статусе "Готов к выписке": 1 чел.
 
# In:
	Введите команду: стоп
# Out:
	Сеанс завершён.


=== Приёмочный тест № 6 (неудачная попытка понизить самый низкий статус) ===

# In:
	Введите команду: понизить статус пациента
	Введите ID пациента: 1
# Out:
	Новый статус пациента: "Тяжело болен"

# In:
	Введите команду: понизить статус пациента
	Введите ID пациента: 1
# Out:
	Ошибка. Нельзя понизить самый низкий статус (наши пациенты не умирают)

# In:
	Введите команду: рассчитать статистику
# Out:
	В больнице на данный момент находится 200 чел., из них:
		в статусе "Тяжело болен": 1 чел.
		в статусе "Болен": 199 чел.
 
# In:
	Введите команду: стоп
# Out:
	Сеанс завершён.

	
=== Доп. сценарий про выписанного пациента ===

# In:
	Введите команду: discharge
	Введите ID пациента: 7
# Out:
	Пациент выписан из больницы

# In:
	Введите команду: discharge
	Введите ID пациента: 7
# Out:
	Ошибка. В больнице нет пациента с таким ID

# In:
	Введите команду: стоп
# Out:
	Сеанс завершён.
